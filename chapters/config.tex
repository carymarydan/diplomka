\label{sec:config}

Nastavení systému VuFind probíhá pøes konfiguraèní soubory. Tyto soubory podléhají konfiguraènímu standardu. Mají tedy jednotnı format a jsou s pøíponou *.ini. Vıchozí konfiguraèní soubory se nacházejí v koøenovém adresáøi systému VuFind ve sloce \texttt{config/vufind}. V pøípadì knihovny NTK je cesta k tìmto souborùm konkrétnì takováto:
\begin{verbatim}
/var/www/vufind/config/vufind
\end{verbatim}

Pøed úpravou tìchto souborù je doporuèeno vytvoøit jejich kopie v lokálním adresáøi, kterı reprezentuje lokální knihovnu \cite{local.conf}. Chceme-li, aby v jednom systému bìelo nìkolik oddìlenıch katalogù s rùznou konfigurací, vytvoøíme pro kadı z nich jeden lokální adresáø. V pøípadì NTK existuje ve VuFindu jedinı katalog, proto cesta do lokálního adresáøe je:
\begin{verbatim}
/var/www/vufind/local
\end{verbatim} 
Po zkopírování vıchozích konfiguraèních souborù do lokálního adresáøe knihovny lze ji lokální konfiguraèní soubory editovat z umístìní:
\begin{verbatim}
/var/www/vufind/local/config/vufind
\end{verbatim}

Celı seznam konfiguraèních souborù se struènım popisem, kterı èítá 54 poloek, je dostupnı v oficiální dokumentaci \cite{conf.files}. Zde je uvedeno nìkolik nejbìnìji upravovanıch souborù a u nich nejzásadnìjší nastavení systému.

\paragraph{config.ini}
Tento primární konfiguraèní soubor obsahuje mnoho globálních nastavení systému. Napøíklad se zde zapíná a vypíná automatická konfigurace uvedena v kapitole \ref{sec:instalace}. Pro produkèní provoz je tato funkce vypnuta. Stejnì tak se tu zapíná a vypíná kontrolní vıpis pøi ladìní systému, tzv. debug, kterı je pro produkèní provoz také vypnutı, avšak velmi vhodnı je pro servery testovací. Základní promìnné jako \textit{url}, \textit{email} a \textit{title} jsou zde nastaveny, aby mohly bıt pouity ve zdrojovém kódu. Parametrem \texttt{theme} se udává jaké šablony se pouijí pro grafickı vzhled VuFindu. V pøípadì knihovny NTK se vychází z kopie velmi rozšíøeného standardizovaného tématu Bootstrap3, kterı je vysvìtlen v kapitole \ref{sec:kustomizace}. Vıchozí jazyková mutace systému je rovnì definována zde, stejnì tak se zde aktivují dostupné jazyky, do kterıch mùe uivatel systém pøepnout bìhem jeho pouívání. V knihovnì NTK je vıchozím jazykem pochopitelnì èeština a také lze systém pøepnout do anglické verze. Èasová zóna je lokalizována dle umístìní knihovny, v NTK je to tedy \uv{Europe/Prague}. Dále se zde nastavuje vıchozí modul, kterı se naèítá pøi vstupu na domovskou stránku systému VuFind. Monosti tohoto nastavení jsou dvì. Buï je zvolen standardní modul \texttt{Search}, kterı zobrazuje stránku se základním vyhledáváním a je také nastavenı v NTK, nebo modul \texttt{Combined}, kterı se nastavuje v pøípadì, e je do VuFindu napojen další index, napøíklad Summon, a chce se uivateli nabídnout kombinované vyhledávání v obou tìchto zdrojích, tedy jak v místním katalogu, tak ve vzdálenıch elektronickıch informaèních zdrojích knihovny. Stejnì tak je modul \texttt{Search} nastaven jako vıchozí modul pro zobrazení uivateli, kterı se do systému pøihlásí. Zapíná a vypíná se zde modul pro administrátora systému, kterı tak má pøístup do sekce s informacemi o indexu, statistikách vyhledávacích dotazù, mùe zde spravovat uivatelské tagy a provádìt jednoduché zmìny nastavení, které manipulují právì s tímto konfiguraèním souborem, tedy skrz webové rozhraní. Také se zde nastavuje na jaké stranì se bude zobrazovat sloupec s fasetami, v NTK je toto zobrazení na pravé stranì obrazovky. Velmi dùleitım parametrem je \texttt{driver}, tedy ovladaè, kterı se pouije k ovládání a komunikaci s integrovanım knihovnickım systémem. Zpravidla je pojmenován stejnì jako danı knihovnickı systém, v pøípadì NTK je to Aleph. V této èásti nastavení je nìkolik dalších parametrù, kterımi lze ovlivnit chování komunikace VuFindu s Alephem. Napøíklad monost rušení rezervací jednotek a prodluování vypùjèenıch jednotek je v NTK povoleno. V opaèném pøípadì lze toto zakázat právì zde. Dále se zde nastavuje metoda autentizace, v prostøedí NTK jde o Shibboleth. Je zde umístìno také základní nastavení indexace, v bìném pøípadì se jedná o indexaèní server Solr beící na stejném serveru jako VuFind na portu 8080 a indexaèní jádro s názvem \texttt{biblio}. Stejnì jako pro indexaèní server Solr, i pro databázovı server se zde definuje o jakı typ databáze se jedná a kde je umístìna. V NTK je pouita databáze MySQL bìící takté na stejném serveru jako VuFind. Dále jsou zde vyplnìny citlivé údaje pro pøihlášení do databáze jako je pøihlašovací jméno a heslo. V sekci \texttt{Content} se definují zdroje pro obálky knih, které se v knihovnì NTK naèítají ze serveru Aleph a zdroje rozšiøující informace o autorech, které se naèítají z èeské Wikipedie. Dále je zde uvedena adresa linkovacího serveru SFX\footnote{SFX (Special Effects) je link server firmy ExLibris zaloenı na standardu OpenURL. Vynálezcem tohoto nástroje je knihovník z Univerzity v Gentu Herbert Van de Sompel. SFX je úèinnou pomùckou pro práci s elektronickımi informaèními zdroji (tzn. snadné vyhledávání a zjišování informací o databázích, elektronickıch èasopisech, elektronickıch knihách). Má pøiblinì 1700 instalací ve 40 zemích svìta. \cite{wiki.sfx}}. Pro pøístup k elektronickım materiálùm z vnìjšího prostøedí knihovny je nastavena EZProxy, dále jsou nastaveny adresy citaèních nástrojù Refworks a EndNote. Logování, tedy záznamy o aktivitì serveru se ukládají v koøenovém adresáøi do souboru \texttt{vufind.log}, jak je zde uvedeno. Uivatelské komentáøe je zde také moné povolit èi zakázat. V NTK jsou povoleny.
\paragraph{Aleph.ini}
Jeliko integrovanım knihovnickım systémem v NTK je Aleph, konfiguraèní soubor, kterı upøesòuje informace o tomto systému se jmenuje \texttt{Aleph.ini}. V pøípadì pouívání jiného ILS, napøíklad Koha, se konfiguraèní soubor pro nastavení upøesòujících informací o systému jmenuje \texttt{Koha.ini}. Je zde zadáno adresa, na které ILS Aleph bìí, konkrétnì \url{aleph.techlib.cz}. Dále se nastavuje jméno báze, které je pro toto specifické prostøedí \texttt{STK01}. Toho se pouívá pøi vytváøení dotazu na X-server Alephu pro získání informací o konkrétní knihovní jednotce. Definují se zde také místa vyzvednutí, kde lze po rezervaci knihovní jednotky oèekávat její vıdej. V NTK to pøedstavují dvì zkratky PUJC a BHF, které znamenají \texttt{Pùjèovna} a \texttt{Badatelna historického fondu}. V uivatelském rozhraní se díky pøekladovému slovníku \texttt{Pùjèovna} zobrazuje jako \texttt{Centrální pult}, protoe tak je to v NTK reálnì oznaèeno. Dále je zde obvykle uvedena cesta k umístìní souboru, kterı obsahuje pøevodní tabulky kódù umístìní jednotek, dílèích knihoven, statusù jednotek, atd., je vrací na dotaz Aleph ve formátu XML spoleènì s dalšími informacemi, které nejsou v indexu VuFindu a musí se tak naèítat v reálném èase pøi prohlíení konkrétních záznamù v katalogu. V prostøedí NTK je však naèítání tohoto souboru s názvem \texttt{AlephTables.php} a umístìním ve sloce \texttt{aleph\_tab} v koøenovém adresáøi øešeno jinım zpùsobem. A to tak, e se soubor naèítá pøímo z ovladaèe Alephu, kterım je:
\begin{verbatim}
/module/ntk_module/src/ntk_module/ILS/Driver/Aleph.php
\end{verbatim}
\paragraph{facets.ini}
Jak název napovídá, v tomto konfiguraèním souboru se nastavuje vše, co se tıká faset. Fasety se v katalogu zobrazují na dvou místech; v pravé èásti obrazovky pøi vısledcích vyhledávání a na stránce pokroèilého vyhledávání. Do seznamu faset, které se mají zobrazit je v NTK pøidána faseta \texttt{Sbírka}\footnote{Faseta Sbírka rozlišuje záznamy v katalogu dle sigel uvedenıch v MARCovıch polích. V NTK jsou dostupné záznamy tìchto tøí institucí: NTK, VŠCHT, ÚOCHB}, faseta \texttt{PSH}\footnote{Polytematickı strukturovanı hesláø (PSH), pùvodní produkt NTK, je èesko-anglickı slovník hesel, kterı slouí jako nástroj pro poøádání a vyhledávání dokumentù podle tématu. PSH obsahuje více ne 13 900 hesel ze všech základních oblastí lidského poznání. Hesla jsou rozdìlena do 44 tematickıch øad a kadé z nich je v rámci oboru zaøazeno do šesti-, vıjimeènì sedmistupòové hierarchie. \cite{psh}} a faseta \texttt{Digitalizace}\footnote{Faseta Digitalizace rozlišuje záznamy v katalogu dle pøíznaku v MARCovém poli pro institucionální uití na digitalizované záznamy, obohacené záznamy a digitalizované mapy.}. Naopak vyøazena je faseta \texttt{Období}\footnote{Faseta Období rozlišuje záznamy dle informací uvedenıch v MARCovém poli 648, které udává èasové období pùvodu díla daného záznamu.}. Nastavena je tu také ta vlastnost faset, e jednotlivé poloky faset se mohou z vısledkù vyhledávání vylouèit. V pokroèilém vyhledávání je skryta faseta \texttt{Ilustrováno}, která specifikuje, zda budou vısledky vyhledávání obsahovat ilustraci, èi nikoli. Provádí se parametrem \texttt{special\_facets}. Dále je nastaveno, e hodnoty faset mají podléhat jazykovım mutacím, tedy pøekládat se do jazykù podle nastavení uivatele.

\paragraph{searchbox.ini}
Tento konfiguraèní soubor ovlivòuje nastavení vyhledávacího pole. Tzv. kombinované vyhledávání, neboli vyhledávání v lokálním indexu katalogu a zároveò v elektronickıch informaèních zdrojích poskytované slubou Summon, se zde aktivuje parametrem \texttt{combinedHandlers} a v NTK je vyuito na testovacím serveru VuFind pro tyto úèely zøízeném, viz. kapitola \ref{sec:vufind-eiz}. Vyhledávání zde lze také nastavit pro pouít v kombinaci napøíklad s vyhledáváním Google.

\paragraph{combined.ini}
Tento konfiguraèní soubor je vyuit v pøípadì pouití kombinovaného vyhledávání pro nastavení štítkù a popiskù jednotlivım indexùm. Ty specifikují uivateli o jaké báze se jedná, jestli jde napøíklad o lokální fyzickı fond knihovny nebo o vzdálené elektronické informaèní zdroje.

\paragraph{searches.ini}
Globální nastavení vyhledávání je obsaeno právì v tomto konfiguraèním souboru. Základní vyhledávání je v NTK rozšíøeno o monost vyhledávání v poli \texttt{Pøedmìtové heslo}, \texttt{Systémové èíslo} a \texttt{Stará Signatura}. Tato svazková signatura je dnes vyuívána u spíše jen knihovníky NTK pro vyhledávání starších knih ve skladu knihovny, které ještì nemají novì pøidìlenou LCC signaturu\footnote{Library of Congress Classification (LCC) je klasifikaèní systém vytvoøenı na pøelomu devatenáctého a dvacátého století pro potøeby organizace sbírky Kongresové knihovny v USA. V prùbìhu 20. století tento systém pøejaly další knihovny. Ukázalo se, e velmi vhodnı je zejména pro fond velkıch, akademickıch knihoven. \cite{lcc}}. Ty samé monosti vyhledávání v polích jsou pøidány i do pokroèilého vyhledávání. Dále se zde specifikuje modul doporuèenıch témat, kterı se zobrazuje nad vısledky vyhledávání a rozšiøuje tak uivateli obzor v daném vyhledávacím tématu. Konkrétnì je nastaveno, e pøi vyhledávání podle \texttt{Pøedmìtového hesla} se nad vısledky vyhledávání zobrazuje modul obsahující index pøedmìtovıch hesel Polytematického strukturovaného hesláøe, kterı díky hierarchickému uspoøádání umoòuje uivateli specifikovat èi zobecòovat téma vyhledávání. Je zde také monost nastavení vıchozího vyhledávacího filtru, co v podstatì znamená automatickou aktivaci fasety, která je aplikována pøi kadém vyhledávání. Toho je vyuito v testovací verzi VuFindu pro elektronické informaèní zdroje, kde z indexu Summon jsou tímto zpùsobem vylouèeny záznamy fyzického fondu NTK. V neposlední øadì se zde nastavuje nabídka øazení vısledkù. Vıchozí øazení je nastaveno podle relevance, dalšími monostmi jsou dle data vzestupnì i sestupnì, dle autor, signatury a názvu. Protoe je v NTK poadováno, aby vıskyt vyhledávacího vırazu byl zvıraznìn ve vısledcích vyhledávání, parametr \texttt{highlighting} je nastaven na hodnotu \texttt{true}.

\paragraph{searchspecs.yaml}
Právì relevance vyhledanıch vısledkù se ovlivòuje tímto konfiguraèním souborem. V závislosti na pøedchozím nastavení je zde pøidáno vyhledávání v novıch polích \texttt{Stará signatura} a \texttt{Pøedmìtové heslo}. 

