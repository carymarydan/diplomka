\label{sec:config}

Nastavení systému VuFind probíhá pøes konfiguraèní soubory. Tyto soubory podléhají konfiguraènímu standardu. Mají tedy jednotný format a jsou s pøíponou *.ini. Výchozí konfiguraèní soubory se nacházejí v koøenovém adresáøi systému VuFind ve složce config/vufind. V pøípadì knihovny NTK je cesta k tìmto souborùm konkrétnì takováto:
\begin{verbatim}
/var/www/vufind/config/vufind
\end{verbatim}

Pøed úpravou tìchto souboru je velmi doporuèeno vytvoøit jejich kopie v lokálním adresáøi, který má význam jako reprezentant lokální knihovny \cite{local.conf}. Chceme-li, aby v jednom systému bìželo nìkolik oddìlených katalogù s rùznou konfigurací, vytvoøíme pro každý z nich jeden lokální adresáø. V našem pøípadì existuje ve VuFindu jediný katalog, proto cesta do našeho lokálního adresáøe je:
\begin{verbatim}
/var/www/vufind/local
\end{verbatim} 
Po zkopírování výchozích konfiguraèních souborù do lokálního adresáøe knihovny lze již lokální konfiguraèní soubory editovat z umístìní:
\begin{verbatim}
/var/www/vufind/local/config/vufind
\end{verbatim}

Celý seznam konfiguraèních souborù se struèným popisem, co nastavují, který èítá 54 položek, je dostupný v oficiální dokumentaci \cite{conf.files}. Zde je uvedeno nìkolik nejbìžnìji upravovaných souborù a u nich nejzásadnìjší nastavení systému.

\paragraph{config.ini}
Tento primární konfiguraèní soubor obsahuje mnoho globálních nastavení systému. Tak napøíklad se zde zapíná a vypíná automatická konfigurace uvedena v pøedchozí kapitole Instalace. Pro produkèní provoz je tato funkce vypnuta. Stejnì tak se tu zapíná a vypíná kontrolní výpis pøi ladìní systému, tzv. debug, který je pro produkèní provoz také vypnutý, avšak velmi vhodný je pro servery testovací. Základní promìnné jako url, email a title jsou zde také nastaveny. Ty jsou potom využity ve zdrojovém kódu. Parametrem theme se udává jaké šablony se použijí pro grafický vzhled VuFind. V našem pøípadì se vychází z kopie velmi rozšíøeného standardizovaného tématu Bootstrap3, což je vysvìtleno v kapitole Grafický design. Výchozí jazyková mutace systému je rovnìž definována zde, v našem pøípadì pochopitelnì èeská, stejnì tak se zde aktivují dostupné jazyky, do kterých mùže uživatel systém pøepnout bìhem jeho používání. V NTK je to v souèasné dobì pouze angliètina. Èasová zóna je lokalizována dle umístìní knihovny, konkrétnì na "Europe/Prague". Dále se zde nastavuje výchozí modul, který se naète pøi pøíchodu na url systému. Možnosti jsou dvì, buï je to standardní modul Search, který znamená stránku se základním vyhledáváním a je nastavený v NTK, nebo modul Combined, který se nastavuje v pøípadì, že je do VuFindu napojen další index, napøíklad Summon a chce se uživateli nabídnout kombinované vyhledávání jak v místním katalogu, tak ve vzdálených elektronických informaèních zdrojích knihovny. Stejnì tak je modul Search nastaven jako výchozí modul pro uživatele, který se do systému pøihlásí. Zapíná a vypíná se zde modul pro administrátora systému, který tak má pøístup do sekce s informacemi o indexu, statistikách vyhledávacích dotazù, mùže zde spravovat uživatelské tagy a provádìt jednoduché zmìny nastavení, které manipulují právì s tímto konfiguraèním souborem, tedy skrz webové rozhraní. Také se zde nastavuje na jaké stranì se bude zobrazovat sloupec s fasetami, u nás je na pravé stranì obrazovky. Velmi dùležitým parametrem je driver, tedy ovladaè, který je použit k ovládání a komunikaci s integrovaným knihovnickým systémem. Zpravidla je pojmenován stejnì jako daný knihovnický systém, v našem pøípadì tedy Aleph. V této èásti nastavení je nìkolik dalších parametrù, kterými lze ovlivnit chování komunikace VuFindu s Alephem, napøíklad, že rezervace jednotek lze rušit a výpùjèky jednotek lze prodlužovat. Samozøejmì je možné tyto funkce zakázat. Dále se zde nastavuje metoda autentizace, v našem prostøedí jde o Shibboleth. Je zde umístìno také základní nastavení indexace, tedy, že se jedná o Solr bežící na stejném serveru jako VuFind na portu 8080 a indexaèní jádro je nazváno biblio. Nastavení databáze øíká, že baží také na stejném serveru, tedy localhostu, jedná se o MySQL databázi a jsou zde vyplnìny citlivé údaje jako pøihlašovací jméno a heslo do ní. V sekci Obsah je uvedeno, že obálky knih se naèítají ze serveru Aleph a rozšiøující informace o autorech se naèítají z Wikipedie. Dále je zde uvedena adresa link resolveru sfx. Pro pøístup k elektronickým materiálùm z vnìjšího prostøedí knihovny je nastavena EZProxy, dále jsou nastaveny adresy citaèních nástrojù Refworks a EndNote. Logování, tedy záznamy o aktivitì serveru se ukládají v koøenovém adresáøi do souboru vufind.log, jak je zde uvedeno. Uživatelské komentáøe jsou zde také povoleny.
\paragraph{Aleph.ini}
Jelikož naším integrovaným knihovnickým systémem je Aleph, konfiguraèní soubor, který upøesòuje informace o tomto systému se jmenuje Aleph.ini. V pøípadì používání jiného ILS, napøíklad Koha, se konfiguraèní soubor pro nastavení upøesòujících informací o systému jmenuje Koha.ini. Je zde zadáno adresa, na které ILS Aleph bìží, tedy aleph.techlib.cz. Dále jméno báze, které je STK01. To je použito pøi vytváøení dotazu na X-server Alephu, pro získání informací o konkrétní knihovní jednotce. Jsou zde také uvedeny dvì zkratky PUJC a BHF, které znamenají Pùjèovna a Badatelna historického fondu a oznaèují tak místa vyzvednutí, kde lze po rezervaci knihovní jednotky oèekávat její výdej. V uživatelském rozhraní se však Pùjèovna zobrazuje jako Centrální pult, protože tak je ve druhém nadzemním podlaží reálnì oznaèena. Dále je zde obvykle uvedena cesta k umístìní souboru, který obsahuje pøevodní tabulky kódù umístìní jednotek, dílèích knihoven, statusù jednotek, atd., jež vrací na dotaz Aleph ve formátu XML spoleènì s dalšími informacemi, které nejsou v indexu VuFindu a musí se tak naèítat v reálném èase pøi prohlížení konkrétních záznamù v katalogu. V našem prostøedí je však naèítání tohoto souboru s názvem AlephTables.php a umístìním ve složce aleph\_tab v koøenovém adresáøi øešeno jiným zpùsobem. A to tak, že se soubor naèítá pøímo z ovladaèe Alephu, kterým je:
/module/ntk\_module/src/ntk\_module/ILS/Driver/Aleph.php


Vychází se z výchozích souborù a popsány jsou jen zmìny, které v nich jsou provedeny dle potøeb prostøedí Národní technické knihovny.

\paragraph{facets.ini}
Jak název napovídá, v tomto konfiguraèním souboru se nastavuje vše, co se týká faset. Fasety se v katalogu zobrazují na dvou místech; v pravé èásti obrazovky pøi výsledcích vyhledávání a na stránce pokroèilého vyhledávání. Do seznamu faset, které se mají zobrazit je pøidána faseta Sbírka, faseta PSH a faseta Digitalizace. Naopak vyøazena je faseta Období. Nastavena je tu také ta vlastnost faset, že jednotlivé položky faset se mohou z výsledkù vyhledávání vylouèit. V pokroèilém vyhledávání je skryta faseta Ilustrováno, která specifikuje, zda budou výsledky vyhledávání obsahovat ilustraci, èi nikoli. Provádí se parametrem special\_facets. Informace o ilustraci se pøebírá z MARC záznamu z pole XXX. Dále je nastaveno, že hodnoty faset mají podléhat jazykovým mutacím, tedy pøekládat se do jazykù podle nastavení uživatele.

\paragraph{searchbox.ini}
Tento konfiguraèní soubor ovlivòuje nastavení vyhledávacího pole. Tzv. kombinované vyhledávání, neboli vyhledávání v lokálním indexu katalogu a zároveò v elektronických informaèních zdrojích poskytované službou Summon, se zde aktivuje parametrem combinedHandlers a je využito na testovacím serveru VuFindu (vufind-eiz.test) pro tyto úèely zøízeném. Toto vyhledávání lze použít také v kombinaci napøíklad s vyhledáváním Google.

\paragraph{combined.ini}
Tento konfiguraèní soubor je využit v pøípadì použití kombinovaného vyhledávání pro nastavení štítkù a popiskù jednotlivým indexùm. Ty specifikují uživateli o jaké báze se jedná, jestli jde napøíklad o lokální fyzický fond knihovny nebo o vzdálené elektronické informaèní zdroje.

\paragraph{searches.ini}
Globální nastavení vyhledávání je obsaženo právì v tomto konfiguraèním souboru. Základní vyhledávání je rozšíøeno o možnost vyhledávání v poli Pøedmìtové heslo, Systémové èíslo a Stará Signatura. Tato svazková signatura je dnes využívána už spíše jen knihovníky NTK pro vyhledávání starších knih ve skladu knihovny, které ještì nemají novì pøidìlenou LCC signaturu. Ty samé možnosti vyhledávání v polích jsou pøidány i do pokroèilého vyhledávání. Dále se zde specifikuje modul doporuèených témat, který se zobrazuje nad výsledky vyhledávání a rozšiøuje tak uživateli obzor v daném vyhledávacím tématu. Konkrétnì je nastaveno, že pøi vyhledávání podle Pøedmìtového hesla se nad výsledky vyhledávání zobrazuje tento modul obsahující index pøedmìtových hesel Polytematického strukturovaného hesláøe, který díky hierarchickému uspoøádání umožòuje uživateli specifikovat èi zobecòovat téma vyhledávání. Je zde také možnost nastavení výchozího vyhledávacího filtru, což v podstatì znamená automatickou aktivaci fasety, která je aplikována pøi každém vyhledávání. Toho je využito v testovací verzi VuFindu pro elektronické informaèní zdroje, kde z indexu Summon jsou tímto zpùsobem vylouèeny záznamy fyzického fondu NTK. V neposlední øadì se zde nastavuje nabídka øazení výsledkù. Výchozí øazení je nastaveno podle Relevance, dalšími možnostmi jsou dle data vzestupnì i sestupnì, dle autor, signatury a názvu. Protože je požadováno, aby výskyt vyhledávacího výrazu byl zvýraznìn ve výsledcích vyhledávání, parametr highlighting je nastaven na hodnotu true.

\paragraph{searchspecs.yaml}
Právì relevance vyhledaných výsledkù se ovlivòuje tímto konfiguraèním souborem. V závislosti na pøedchozím nastavení je zde pøidáno vyhledávání v nových polích Stará signatura a Pøedmìtové heslo. 

