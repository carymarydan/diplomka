\label{sec:solr}
Jak již bylo zmínìno, indexaèním nástrojem VuFindu je Solr umístìný ve složce \texttt{solr} koøenového adresáøe. Tato komponenta portálu VuFind komunikuje s uživatelským rozhraním na portu, který se definuje v konfiguraèním souboru \texttt{config.ini}. Obvykle je to èíslo portu 8080. V prostøedí NTK tomu není jinak, až na výjimku testovacích serverù, kde bìží nìkolik instancí Solru na jednom serveru spoleènì a tedy nìkterá tato komunikace probíhá na portu 8181. Konkrétnì se jedná o testovací server popsaný v kapitole \ref{sec:vufind-test}. Druhým místem, kde je nutné toto èíslo portu shodnì uvést, je v samotné konfiguraci Java serveru Jetty. Soubor se nachází zde:
\begin{verbatim}
/var/www/vufind/solr/jetty/etc/jetty.xml
\end{verbatim}
V souboru \texttt{solr.xml} se definují jádra Solr, potažmo indexy. Mùže jich zde být zapsáno hned nìkolik, v prostøedí NTK jsou to jádra \texttt{biblio}, které je výchozím jádrem a jádro \texttt{authority}, které je použito na index Polytematického strukturovaného hesláøe. Zápis pro hlavní index vypadá takto:
\begin{lstlisting}
<core schema="schema.xml" loadOnStartup="true" instanceDir="biblio/" transient="false" name="biblio" config="solrconfig.xml"/>
\end{lstlisting}
Jak je vidìt ze zápisu výše, pro každý index existuje samostatný adresáø. Pro hlavní jádro VuFindu je tedy vytvoøen adresáø \texttt{biblio}. Zde se nachází nìkolik podadresáøù, z nichž \texttt{conf} obsahuje nezbytné nastavení Solru. V tomto podadresáøi se nachází soubor \texttt{schema.xml}, kde se definuje, jak bude vypadat schéma celého indexu \cite{solr.schema}. Pro prostøedí NTK je pøidána definice šesti polí, kterými jsou:
\begin{itemize}
\item article\_resource\_title
\item article\_issn
\item article\_resource\_related
\item signature\_old
\item psh\_facet
\item digitized\_facet
\end{itemize}
První tøi pole se týkají èlánkù v katalogu. Uchovávají se v nich informace o názvu èasopisu, ze kterého daný èlánek pochází, issn èasopisu pro linkování na výsledky vyhledávání s tímto issn, a doplòující informace jakými jsou napøíklad roèník èasopisu, popøípadì rozmezí stránek, na kterých se èlánek v èasopise nachází. Další pøidané pole v indexu je pro již zmiòovanou starou svazkovou signaturu. Pro indexování hesel z Polytechnického strukturovaného hesláøe je použito další pole v poøadí a v posledním poli se uchovává pøíznak digitalizace, zda jde o záznam zdigitalizovaný, obohacený nebo jde o záznam digitalizované mapy.
V souboru \texttt{stopwords.txt} je výèet slov, která se pøi indexaci ignorují. Jde vìtšinou o èasto se vyskytující slova, spojky a pøedložky, které nenesou žádnou informaci. Mají zpravidla pouze syntaktický význam. Dalším souborem je \texttt{synonyms.txt}, kde je vždy na jednom øádku uveden výèet synonym, která se indexují jako jedno slovo. Dùvodem je zvýšení efektivity vyhledávání, kdy pøi použití synonymních vyhledávacích výrazù dostáváme stejné výsledky. Výchozí nastavení tohoto souboru obsahuje pouze synonymní vyjádøení èíslovek èíselným a slovním zpùsobem \cite{solr.synonyms}. Obdobným souborem je \texttt{protwords.txt}, kde je možné uvést výrazy, které nebudou pøi indexování ani následném vyhledávání podléhat stematizaci, tedy nebudou se indexovat podobná slova rùzných tvarù pod jeden spoleèný kmen slova. Tento soubor je ve výchozím nastavení prázdný. Protože algoritmus stematizace je závislý na jazyku a èeský jazyk pøináší mnohá úskalí v tomto, soubor zùstává prázdný.

Samotný index se vedle adresáøe s konfigurací nachází v adresáøi \texttt{index}. Tento adresáø obsahuje soubory v binární podobì a nelze  je tedy editovat bìžným zpùsobem. K prohlížení indexu a dalších nastavení Solru, jako je schéma atd., slouží webové rozhraní.
